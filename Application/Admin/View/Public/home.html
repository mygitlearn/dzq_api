<extend name="Public/base" />
<block name="style">
    <style type="text/css">
        #text{
            width: 100%;
            height: 450px;
            margin: 100px auto 0;
            overflow: auto;
            overflow-x: hidden;
        }
        #editUe{
            width: 100%;
            height: 500px;
            margin-top: 100px;
            display: none;
        }
        #ok{
            display: none;
        }
    </style>
</block>
<block name="content">


    <div class="container-fluid">
        <div id="pad-wrapper" class="users-list">
            <button class="btn-flat success pull-right" id="edit"><span>&#43;</span>编辑</button>
            <input type="submit" form="ueForm" class="btn-flat success pull-right" id="ok" value="&#43;完成提交">
        </div>
        <div id="text">
            {$list.content}
        </div>
        <form action="{:U()}" method="post" id="ueForm">
        <div id="editUe">
            <textarea id="myEditor" name="news_content" style="width:100%;min-height:80%;float:left;">{$list.content}</textarea>
        </div>
        </form>
    </div>

</block>
<block name="script">
    <script type="text/javascript">
        $("#edit").click(function(){
            status();
        });
        $("#ok").click(function(){
            var text = UE.getEditor('myEditor').getContent();
            if(text==""){
                alert("信息不能为空");
                $("form").submit(function(e){e.preventDefault();})
                return;
            }
            setTimout(status(),500);
        });
        function status(){
            $("#text").toggle();
            $("#editUe").toggle();
            $("#edit").toggle();
            $("#ok").toggle();
        }
    </script>
    <script type="text/javascript" src="__JS__/admin/Public.js"></script>
</block>
